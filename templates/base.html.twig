<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Welcome!{% endblock %}</title>

    <!-- Initialiser le th√®me AVANT de charger le CSS -->
<script>
  (function() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-bs-theme', savedTheme);
    document.body.classList.add(savedTheme + '-theme');
  })();
</script>


    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>‚ö´Ô∏è</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
    <link rel="stylesheet" href="https://bootswatch.com/5/morph/bootstrap.min.css">

    {% block stylesheets %}
    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.2/dist/morph/bootstrap.min.css" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body.light-theme { background-color: #f8f9fa; color: #212529; }
        body.dark-theme { background-color: #212529; color: #f8f9fa; }
        #themeToggle { position: fixed; top: 20px; right: 20px; z-index: 1000; }
        .navbar-brand img { max-height: 32px; margin-right: 8px; }
    </style>
    {% endblock %}

    {% block javascripts %}
    {% block importmap %}{{ importmap('app') }}{% endblock %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    const toggleBtn = document.getElementById('themeToggle');
    const htmlTag = document.documentElement;
    const bodyTag = document.body;

    // Initialiser le bouton selon le th√®me sauvegard√©
    const savedTheme = htmlTag.getAttribute('data-bs-theme') || 'light';
    toggleBtn.innerHTML = savedTheme === 'light' ? 'üåô Mode sombre' : '‚òÄÔ∏è Mode clair';

    // Bascule du th√®me
    toggleBtn.addEventListener('click', () => {
        const currentTheme = htmlTag.getAttribute('data-bs-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        htmlTag.setAttribute('data-bs-theme', newTheme);
        bodyTag.classList.remove(currentTheme + '-theme');
        bodyTag.classList.add(newTheme + '-theme');
        toggleBtn.innerHTML = newTheme === 'light' ? 'üåô Mode sombre' : '‚òÄÔ∏è Mode clair';

        // Sauvegarde dans localStorage
        localStorage.setItem('theme', newTheme);
    });
});
</script>

    {% endblock %}
</head>

<body class="light-theme">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#accueil">
                <img src="{{ asset('images/photo.jpg') }}" alt="Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor04" aria-controls="navbarColor04" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarColor04">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link active" href="#accueil">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="#competences">Comp√©tences</a></li>
                    <li class="nav-item"><a class="nav-link" href="#projets">Projets</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacts">Contacts</a></li>
                </ul>

            </div>
        </div>
    </nav>

    <button id="themeToggle" class="btn btn-outline-secondary">üåô Mode sombre</button>

    <div class="container" id="accueil">
        {% block body %}{% endblock %}
    </div>
</body>

<footer class="footer py-4 mt-5 bg-body-tertiary text-center">
  <div class="container">
    <p class="mb-1">¬© {{ "now"|date("Y") }} Gauthier. Tous droits r√©serv√©s.</p>
    <p class="small">
      Ce site et son contenu sont prot√©g√©s par le droit d'auteur. 
      Toute reproduction, distribution ou utilisation non autoris√©e est strictement interdite.
    </p>
    <hr class="border-secondary">
    <p class="small">D√©velopp√© avec ‚ù§Ô∏è et Bootstrap Morph</p>
  </div>
</footer>

</html>
